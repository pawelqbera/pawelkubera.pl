!function(a){"use strict";var b=function(){this._window=a(window),this._body=a("body"),this._section=a("section"),this._pageWrap=a(".page-wrap"),this._sectionNav=a(".section-nav"),this._sectionNavAnchor=a(".section-nav a"),this._navAnchor=a(".nav a"),this._menuBurger=a("#menu-burger"),this.defaultHash="#home",this.translateY=0};b.prototype={start:function(){var b=this;this.resetHash(),this.updateHeights(),this._window.on("orientationchange",function(){b.updateHeights()},!1),this._window.on("resize",function(){b.updateHeights()},!1),this._window.keydown(function(c){var d=[40,34,32,9],e=a(".current");return-1!==a.inArray(c.which,d)?(c.preventDefault(),-1*b.translateY<b.pageWrapHeight-b.windowHeight&&(b.translateY-=b.windowHeight,e.next().addClass("current").prev().removeClass("current"))):(38===c.which||33===c.which)&&(c.preventDefault(),b.translateY<0&&(b.translateY+=b.windowHeight,e.prev().addClass("current").next().removeClass("current"))),b._pageWrap.css({transform:"translateY("+b.translateY+"px)"}),b.hash=a(".current").attr("data-anchor"),history.pushState(null,null,"#"+b.hash),b.onHashChange()}),this._window.on("mousewheel",function(c){var d=a(".current");clearTimeout(a.data(this,"scrollTimer")),a.data(this,"scrollTimer",setTimeout(function(){return c.deltaY<0&&-1*b.translateY<b.pageWrapHeight-b.windowHeight?(b.translateY-=b.windowHeight,d.next().addClass("current").prev().removeClass("current")):c.deltaY>0&&b.translateY<0&&(b.translateY+=b.windowHeight,d.prev().addClass("current").next().removeClass("current")),b._pageWrap.css({transform:"translateY("+b.translateY+"px)"}),b.hash=a(".current").attr("data-anchor"),history.pushState(null,null,"#"+b.hash),b.onHashChange()},250))}),this._window.on("hashchange",function(){""!==window.location.hash&&b.onHashChange()}),this._sectionNavAnchor.click(function(c){c.preventDefault();var d=a(this);b.onNavAnchorClick(d)}),this._navAnchor.click(function(c){c.preventDefault();var d=a(this);b.onNavAnchorClick(d)}),this._menuBurger.click(function(c){c.preventDefault();var d=a(this);clearTimeout(a.data(this,"scrollTimer")),a.data(this,"scrollTimer",setTimeout(function(){b.onNavAnchorClick(d)},1e3))})},resetHash:function(){window.location.href=this.defaultHash,history.pushState(null,null,window.location.pathname)},updateHeights:function(){this.setWindowHeight(),this.setSectionNavMargin()},setWindowHeight:function(){var b=this;return this.windowHeight=this._window.height(),this._section.each(function(){var c=a(this);c.height(b.windowHeight)}),this.setPageWrapperHeight()},setPageWrapperHeight:function(){this.pageWrapHeight=this._pageWrap.height()},setSectionNavMargin:function(){this.sectionNavHeight=this._sectionNav.height(),this._sectionNav.css({"margin-top":"( -"+this.sectionNavHeight+" / 2)"})},onHashChange:function(){var b=window.location.hash;this._navAnchor.parents("li").removeClass("active"),a('.nav a[href="'+b+'"]').parents("li").addClass("active"),this._sectionNavAnchor.children("span").removeClass("point-active"),a('.section-nav a[href="'+b+'"]').children("span").addClass("point-active"),this._body.removeClass().addClass(b.replace("#",""))},onNavAnchorClick:function(b){return this.target=b,this.targetSectionAnchor=a(this.target).attr("href").replace("#",""),this.index=a("#"+this.targetSectionAnchor).index(),this.translateY=this.index*this.windowHeight*-1,this._pageWrap.css({transform:"translateY("+this.translateY+"px)"}),a(".current").removeClass("current"),a("#"+this.targetSectionAnchor).addClass("current"),history.pushState(null,null,"#"+this.targetSectionAnchor),this.onHashChange()},drawHeaderCanvas:function(){}},a(document).ready(function(){var a=new b;a.start()})}(jQuery),jQuery(document).ready(function(a){function b(){c(a(".cd-headline.letters").find("b")),d(a(".cd-headline"))}function c(b){b.each(function(){var b=a(this),c=b.text().split(""),d=b.hasClass("is-visible"),e=null;for(e in c)b.parents(".rotate-2").length>0&&(c[e]="<em>"+c[e]+"</em>"),c[e]=d?'<i class="in">'+c[e]+"</i>":"<i>"+c[e]+"</i>";var f=c.join("");b.html(f).css("opacity",1)})}function d(b){var c=k;b.each(function(){var b=a(this);if(b.hasClass("loading-bar"))c=l,setTimeout(function(){b.find(".cd-words-wrapper").addClass("is-loading")},m);else if(b.hasClass("clip")){var d=b.find(".cd-words-wrapper"),f=d.width()+10;d.css("width",f)}else if(!b.hasClass("type")){var g=b.find(".cd-words-wrapper b"),h=0;g.each(function(){var b=a(this).width();b>h&&(h=b)}),b.find(".cd-words-wrapper").css("width",h)}setTimeout(function(){e(b.find(".is-visible").eq(0))},c)})}function e(a){var b=i(a);if(a.parents(".cd-headline").hasClass("type")){var c=a.parent(".cd-words-wrapper");c.addClass("selected").removeClass("waiting"),setTimeout(function(){c.removeClass("selected"),a.removeClass("is-visible").addClass("is-hidden").children("i").removeClass("in").addClass("out")},p),setTimeout(function(){f(b,o)},q)}else if(a.parents(".cd-headline").hasClass("letters")){var d=a.children("i").length>=b.children("i").length?!0:!1;g(a.find("i").eq(0),a,d,n),h(b.find("i").eq(0),b,d,n)}else a.parents(".cd-headline").hasClass("clip")?a.parents(".cd-words-wrapper").animate({width:"2px"},r,function(){j(a,b),f(b)}):a.parents(".cd-headline").hasClass("loading-bar")?(a.parents(".cd-words-wrapper").removeClass("is-loading"),j(a,b),setTimeout(function(){e(b)},l),setTimeout(function(){a.parents(".cd-words-wrapper").addClass("is-loading")},m)):(j(a,b),setTimeout(function(){e(b)},k))}function f(a,b){a.parents(".cd-headline").hasClass("type")?(h(a.find("i").eq(0),a,!1,b),a.addClass("is-visible").removeClass("is-hidden")):a.parents(".cd-headline").hasClass("clip")&&a.parents(".cd-words-wrapper").animate({width:a.width()+10},r,function(){setTimeout(function(){e(a)},s)})}function g(b,c,d,f){if(b.removeClass("in").addClass("out"),b.is(":last-child")?d&&setTimeout(function(){e(i(c))},k):setTimeout(function(){g(b.next(),c,d,f)},f),b.is(":last-child")&&a("html").hasClass("no-csstransitions")){var h=i(c);j(c,h)}}function h(a,b,c,d){a.addClass("in").removeClass("out"),a.is(":last-child")?(b.parents(".cd-headline").hasClass("type")&&setTimeout(function(){b.parents(".cd-words-wrapper").addClass("waiting")},200),c||setTimeout(function(){e(b)},k)):setTimeout(function(){h(a.next(),b,c,d)},d)}function i(a){return a.is(":last-child")?a.parent().children().eq(0):a.next()}function j(a,b){a.removeClass("is-visible").addClass("is-hidden"),b.removeClass("is-hidden").addClass("is-visible")}var k=2500,l=3800,m=l-3e3,n=50,o=150,p=500,q=p+800,r=600,s=1500;b()});